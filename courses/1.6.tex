
\subsection{Непрерывность элементарных функций. Определение показательной функции...}

\subsubsection{Непрерывность элементарных функций}
Докажем, что $\liml_{x \to a} \sin x = \sin a$ при $\forall a \in \R$
\begin{multline*}
	|\sin x - \sin a| = \left|2 \sin \frac{x - a}{2} \cos \frac{x + a}{2}\right| \le 2 \cdot \left|\sin \frac{x - a}{2}\right| \cdot \left|\cos \frac{x + a}{2}\right| \le \\
	2 \cdot \left|\frac{x - a}{2}\right| \cdot 1 = |x - a|
\end{multline*}
Для доказательства предела достаточно взять $\delta := \eps / 2$. Следовательно, $\sin x$ - непрерывная на всей области определения.

Теперь докажем, что $\liml_{x \to a} \cos x = \cos a$ при $\forall a \in \R$
\[
	|\cos x - \cos a| = \left|-2 \cdot \sin \frac{x + a}{2} \cdot \sin \frac{x - a}{2} \right| \le 2 \cdot 1 \cdot \left|\frac{x - a}{2}\right| = |x - a|
\]
Снова достаточно взять $\delta := \eps / 2$ и доказательство получено.

\subsubsection{Определение показательной функции}

Считая, что все рациональные степени уже определены, дадим определение $a^x$ в общем случае

\begin{definition}
	$a^x$ при $\forall x \ge 0$ определяется как
	\begin{enumerate}
		\item $a > 1$
		
		Введём понятие $(x)_n$:
		\[
			(x)_n := \frac{\lfloor10^n \cdot x\rfloor}{10^n}
		\]
		То есть $(x)_n$ - это число $x$, у которого оставили ровно $n$ знаков после запятой, а остальное удалили. Понятно, что это - рациональное число, и степень $a^{(x)_n}$ определена.
		
		Заметим, что $\{(x)_n\}$ - неубывающая последовательность. Стало быть, и $\{a^{(x)_n}\}$ - тоже неубывающая. При этом
		\[
			\forall n \in \N\ (x)_n \le \lceil x \rceil \Ra a^{(x)_n} \le a^{\lceil x \rceil}
		\]
		То есть, $\{a^{(x)_n}\}$ к тому же и ограниченная сверху. По теореме Вейерштрасса, она имеет предел. Её предел и называют $a^x$:
		\[
			a^x := \liml_{n \to \infty} a^{(x)_n}
		\]
		
		\item $a = 1 \Ra a^1 = a$
		
		\item $0 < a < 1$
		
		Определяется через предел как и в случае 1., только теорема Вейерштрасса будет для невозрастающей последовательности.
	\end{enumerate}
    Для $x < 0$ определим $a^x$ как
	\[
		a^x = \frac{1}{a^{-x}}
	\]
	
	Покажем, что если $x_1 < x_2$, то и $a^{x_1} < a^{x_2}$:
	
	Начиная с некоторого $N \in \N$, будет в точности выполнено неравенство $\forall n > N$
	\[
		(x_1)_n \le x_1 < (x_2)_n \le x_2 
	\]
	А значит найдутся 2 рациональных числа $r_1 < r_2$ такие, что
	\[
		(x_1)_n \le x_1 < r_1 < r_2 < (x_2)_n
	\]
	Предельный переход даёт неравенство
	\[
		a^{x_1} \le a^{r_1} < a^{r_2} \le a^{x_2}
	\]
	Которое и даёт $a^{x_1} < a^{x_2}$
\end{definition}


    \begin{lemma} (Корректность определения показательной функции)
        $(\forall x \in \R)\ (\forall \{r_n\} \subset \Q,\ \liml_{n \to \infty} r_n = x) \Ra \liml_{n \to \infty} a^{r_n} = a^x$
    \end{lemma}
    
    \begin{proof}
        Доказательство проводится для $a > 1$. Для другого случая аналогично.
        
        Заметим, что обе последовательности $a^{-\frac{1}{n}} - 1$ и $a^{\frac{1}{n}} - 1$ стремятся к нулю. То есть
        \[
            \forall \eps > 0\ \exists K \in \N \such \max(|a^{-\frac{1}{K}} - 1|, a^{\frac{1}{K}} - 1) < \eps
        \]
        Докажем, что $\{a^{r_n}\}$ - фундаментальная последовательность.
        \[
            a^{r_{n + p}} - a^{r_n} = a^{r_n} \cdot (a^{r_{n + p} - r_n} - 1)
        \]
        Так как $\{r_n\}$ сходится, то $\exists M \such \forall n \in \N\ r_n \le M$. Отсюда
        \[
            a^{r_n} \le a^M
        \]
        Сама $\{r_n\}$ фундаментальна. То есть
        \[
            \forall \eps > 0\ \exists N \in \N \such \forall n > N, p \in \N\ |r_{n + p} - r_n| < \eps \Ra\ \eps := \frac{1}{K},\ -\frac{1}{K} < r_{n + p} - r_n < \frac{1}{K}
        \]
        Следовательно
        \[
            a^{-\frac{1}{K}} - 1 < a^{r_{n + p} - r_n} - 1 < a^{\frac{1}{K}} - 1
        \]
        Ну а отсюда уже (перевыбрали окрестность из первого утверждения доказательства)
        \[
            |a^{r_{n + p} - r_n} - 1| < \max(|a^{-\frac{1}{K}} - 1|, |a^{\frac{1}{K}} - 1|) < \frac{\eps}{a^M}
        \]
        В итоге имеем
        \[
            |a^{r_n} \cdot (a^{r_{n + p} - r_n} - 1)| < a^{r_n} \cdot \frac{\eps}{a^M} < \eps
        \]
        Покажем, что у $\{a^{(x)_n}\}$ и $\{a^{r_n}\}$ одинаковые пределы. Для этого рассмотрим последовательность:
        \[
            z_n = \System{
                &{r_k,\ n = 2k - 1}
                \\
                &{(x)_k,\ n = 2k}
            }
        \]
        По определению предела
        \begin{align*}
            &\forall \eps > 0\ \exists K_1 \in \N \such \forall k > K_1\ \left(|r_k - x| < \eps \lra |z_{2k - 1} - x| < \eps\right)
            \\
            &\forall \eps > 0\ \exists K_2 \in \N \such \forall k > K_2\ \left(|(x)_k - x| < \eps \lra |z_{2k} - x| < \eps\right)
        \end{align*}
        Следовательно
        \[
            \forall \eps > 0\ \exists N := 2 \cdot \max(K_1, K_2) \such \forall n > N\ |z_n - x| < \eps
        \]
        То есть $\{z_n\}$ - сходящаяся последовательность рациональных чисел. А из доказанного это значит, что существует предел $\liml_{n \to \infty} a^{z_n}$. Но если $\liml_{n \to \infty} a^{r_n} \neq \liml_{n \to \infty} a^{(x)_n}$, то последовательность $\{a^{z_n}\}$ расходится. Отсюда заключаем, что
        \[
            (\forall x \in \R)\ (\forall \{r_n\} \subset \Q,\ \liml_{n \to \infty} r_n = x) \Ra \liml_{n \to \infty} a^{r_n} = a^x
        \]
    \end{proof}

\subsubsection{Свойства показательной функции}

\begin{enumerate}
	\item $a^{x_1 + x_2} = a^{x_1} \cdot a^{x_2}$
	\item $a^x \cdot b^x = (a \cdot b)^x$
	\item $(a^x)^y = a^{x \cdot y}$
\end{enumerate}

\begin{proof}
	Докажем свойство суммы:
	\[
		\System{
		\liml_{n \to \infty} (x_1)_n = x_1
		\\
		\liml_{n \to \infty} (x_2)_n = x_2
		}
		\Ra
		\liml_{n \to \infty} \left((x_1)_n + (x_2)_n\right) = x_1 + x_2
	\]
	При этом
	\begin{align*}
		\liml_{n \to \infty} a^{(x_1)_n} = a^{x_1}
		\\
		\liml_{n \to \infty} a^{(x_2)_n} = a^{x_2}
	\end{align*}
	Тогда
	$$
		\liml_{n \to \infty} a^{(x_1)_n + (x_2)_n} = a^{x_1 + x_2}
	$$
	Второе свойство доказывается аналогично.
	
	Третье свойство уже сложнее. Пусть $x, y > 0$,
	\begin{align*}
		\{r'_n\} - \text{ возрастает к } x
		\\
		\{r''_n\} - \text{ убывает к } x
		\\
		\{p'_n\} - \text{ возрастает к } y
		\\
		\{p''_n\} - \text{ убывает к } y
	\end{align*}
	Отсюда цепочка неравенств:
	\[
		a^{r'_n \cdot p'_n} = (a^{r'_n})^{p'_n} \le (a^x)^{p'_n} \le (a^x)^y \le (a^x)^{p''_n} \le (a^{r''_n})^{p''_n} = a^{r''_n \cdot p''_n}
	\]
	Пределы обоих концов стремятся к $a^{x \cdot y}$, откуда уже по теореме о трёх последовательностях имеем нужное нам равенство.
\end{proof}

\begin{theorem}
	$a^x$ - непрерывная функция на $\R$ $\forall a \in (0; 1) \cup (1; \infty)$
\end{theorem}

\begin{proof}
	$a^x - a^{x_0} = a^{x_0}(a^{x - x_0} - 1)$
	
	Это значит, что достаточно установить факт
	\[
		\liml_{x \to 0} a^x = 1
	\]
	Рассмотрим $|x| < \frac{1}{K}$ для произвольного $K$. Тогда
	\[
		a^{-\frac{1}{K}} - 1 < a^x - 1 < a^{\frac{1}{K}} - 1 \Ra |a^x - 1| < \max(|a^{-\frac{1}{K}} - 1|, |a^{\frac{1}{K}} - 1|)
	\]
	При этом
	\[
		\forall \eps > 0\ \exists K \in \N \such \max(|a^{\frac{1}{K}} - 1|, |a^{-\frac{1}{K}} - 1|) < \eps
	\]
	Отсюда
	\[
		\forall \eps > 0\ \exists \delta := \frac{1}{K} \such \forall x,\ |x| < \delta\ \ |a^x - 1| < \eps
	\]
	Что и требовалось доказать.
\end{proof}

\subsubsection{Замечательные пределы, следствия из них}

\begin{theorem} (Первый замечательный предел) Предел $\liml_{x \to 0} \frac{\sin x}{x}$ существует и равен $1$.
\end{theorem}

\begin{proof}
	Рассмотрим $x \in (0; \frac{\pi}{2})$. Тогда, по лемме \ref{for_trig} получим:
	$$
		1 < \frac{x}{\sin x} < \frac{1}{\cos x}
	$$
	В предельном переходе
	$$
		1 \le \liml_{x \to 0+} \frac{x}{\sin x} \le 1
	$$
	Следовательно $\liml_{x \to 0+} \frac{\sin x}{x} = 1$
\end{proof}

\begin{theorem} (Второй замечательный предел) \\
	$$
		\liml_{x \to 0} (1 + x)^{1 / x} = e
	$$
\end{theorem}

\begin{proof}
	Положим $0 < x < 1$.
	$$
		n_x := \left\lfloor\frac{1}{x}\right\rfloor
	$$
	$$
		n_x \le \frac{1}{x} < n_x + 1 \Ra \frac{1}{n_x + 1} < x \le \frac{1}{n_x}
	$$
	Рассмотрим функцию
	$$
		f(x) = \left(1 + \frac{1}{n_x}\right)^{n_x + 1}
	$$
	Положим $x_1 < x_2$. Следовательно
	$$
		\frac{1}{x_2} < \frac{1}{x_1} \Ra n_{x_2} \le n_{x_1} \Ra f(x_2) \ge f(x_1) \ge 1 \text{ (в силу последовательности числа Эйлера)}
	$$
	По теореме Вейерштрасса предел $f(x)$ существует.
	
	Сделаем замечательное наблюдение:
	$$
		f\left(\frac{1}{n}\right) = \left(1 + \frac{1}{n}\right)^n \Ra \liml_{n \to \infty} f(1/n) = e
	$$
	Напишем цепочку неравенств:
	\begin{align*}
		&(1 + x)^{1 / x} \ge (1 + x)^{n_x} > \left(1 + \frac{1}{n_x + 1}\right)^{n_x}
		\\
		&(1 + x)^{1 / x} \le \left(1 + \frac{1}{n_x}\right)^{1 / x} < \left(1 + \frac{1}{n_x}\right)^{n_x + 1}
	\end{align*}
	Крайняя левая и крайняя правая оценки стремятся к $e$. А значит
	$$
		\liml_{x \to 0+} f(x) = e
	$$
	Осталось доказать левый предел. Сделаем замену $x = -y$:
	\begin{multline*}
		\liml_{x \to 0-} (1 + x)^{1 / x} = \liml_{y \to 0+} (1 - y)^{-1/y} = \\
		\liml_{y \to 0+} \frac{1}{(1 - y)^{1/y}} = \liml_{y \to 0+} \left(\frac{1}{1 - y}\right)^{1 / y} = \\
		\liml_{y \to 0+} \left(1 + \frac{y}{1 - y}\right)^{1 / y} = \liml_{t \to 0+} (1 + t)^{\frac{1 - t}{t}} = \\
		\liml_{t \to 0+} (1 + t)^{1 / t} \cdot \frac{1}{1 + t} = e \cdot 1 = e
	\end{multline*}
	По теореме о связи предела с односторонними пределами, в итоге получаем
	\[
		\liml_{x \to 0} (1 + x)^{1 / x} = e
	\]
\end{proof}